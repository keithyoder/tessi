<div class="card">
  <%= render '/shared/table_header', {object: @cidades, titulo: "SICI", search_string: :nome_cont} %>
  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-striped">
        <thead>
          <tr>
            <th colspan=3></th>
            <th class="text-center" colspan=2>Até 1M</th>
            <th class="text-center" colspan=2>Até 2M</th>
            <th class="text-center" colspan=2>Até 8M</th>
            <th class="text-center" colspan=2>Até 12M</th>
            <th class="text-center" colspan=2>Até 34M</th>
            <th class="text-center" colspan=2>Acima 34M</th>
          <tr>
            <th>Município</th>
            <th>IBGE</th>
            <th>Tecnologia</th>
            <th>PF</th>
            <th>PJ</th>
            <th>PF</th>
            <th>PJ</th>
            <th>PF</th>
            <th>PJ</th>
            <th>PF</th>
            <th>PJ</th>
            <th>PF</th>
            <th>PJ</th>
            <th>PF</th>
            <th>PJ</th>
          </tr>
        </thead>
        <tbody>
          <% @sici.each do |cidade| %>
            <tr>
              <td><%= link_to cidade.nome_uf, cidade %></td>
              <td><%= cidade.ibge %></td>
              <td><%= Ponto.tecnologias.key(cidade.tecnologia) %></td>
              <td><%= cidade.quantas_conexoes("Pessoa Física", 1) %></td>
              <td><%= cidade.quantas_conexoes("Pessoa Jurídica", 1) %></td>
              <td><%= cidade.quantas_conexoes("Pessoa Física", 2) %></td>
              <td><%= cidade.quantas_conexoes("Pessoa Jurídica", 2) %></td>
              <td><%= cidade.quantas_conexoes("Pessoa Física", 8) %></td>
              <td><%= cidade.quantas_conexoes("Pessoa Jurídica", 8) %></td>
              <td><%= cidade.quantas_conexoes("Pessoa Física", 12) %></td>
              <td><%= cidade.quantas_conexoes("Pessoa Jurídica", 12) %></td>
              <td><%= cidade.quantas_conexoes("Pessoa Física", 34) %></td>
              <td><%= cidade.quantas_conexoes("Pessoa Jurídica", 34) %></td>
              <td><%= cidade.quantas_conexoes("Pessoa Física", 100) %></td>
              <td><%= cidade.quantas_conexoes("Pessoa Jurídica", 100) %></td>
            </tr>
          <% end %>
        </tbody>
        <tfoot>
          <tr>
            <th colspan=3>Total</th>
            <th><%= @conexoes.ate_1M.pessoa_fisica.count %></th>
            <th><%= @conexoes.ate_1M.pessoa_juridica.count %></th>
            <th><%= @conexoes.ate_2M.pessoa_fisica.count %></th>
            <th><%= @conexoes.ate_2M.pessoa_juridica.count %></th>
            <th><%= @conexoes.ate_8M.pessoa_fisica.count %></th>
            <th><%= @conexoes.ate_8M.pessoa_juridica.count %></th>
            <th><%= @conexoes.ate_12M.pessoa_fisica.count %></th>
            <th><%= @conexoes.ate_12M.pessoa_juridica.count %></th>
            <th><%= @conexoes.ate_34M.pessoa_fisica.count %></th>
            <th><%= @conexoes.ate_34M.pessoa_juridica.count %></th>
            <th><%= @conexoes.acima_34M.pessoa_fisica.count %></th>
            <th><%= @conexoes.acima_34M.pessoa_juridica.count %></th>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>
</div>